<%- include('partials/header') -%>
  <div class="xl:container mt-20 mx-auto">
    <h2 class="text-3xl font-bold mb-4">Hello <%= user.name.split(' ')[0] %>,</h2>
    <span class="text-xl">Find an event that fits your schedule</span>
    

    <div class="grid xs:grid-cols-1 lg:grid-cols-2 gap-6  mx-10 my-5">
      <% for(var i=0; i < upcomingEvents.length; i++) {%>
        <a href="/events/<%= upcomingEvents[i]._id%>">
          <div class="stats shadow border border-red-500 hover:text-primary w-full grid xs:grid-cols-12 sm:grid-cols-8">
            <div class="stat xs:col-span-7 sm:col-span-5 md:col-span-6">
              <div class="flex flex-col-reverse md:flex-row">
                <div class="stat-title sm:mr-4"><%= upcomingEvents[i].date %></div>
                <% if(upcomingEvents[i].waitstaffNeeded === 0 && upcomingEvents[i].bartenderNeeded === 0 && upcomingEvents[i].chefNeeded === 0) { %>
                  <div class="badge badge-error gap-2 sm:mt-0">
                    Event Full
                  </div>
                <% } %>
              </div>
              <div class="stat-title"><%= upcomingEvents[i].staffArrival%> - <%= upcomingEvents[i].estimatedEndTime%> </div>
              <div class="md:stat-value truncate"><%= upcomingEvents[i].eventName %></div>
              <div class="stat-title md:mt-2"><%= upcomingEvents[i].address %></div>
            </div>
            
          
            <div class="stat xs:col-span-5 sm:col-span-3 md:col-span-2">
              <div class="staff stat-title text-white font-bold">
                <span class="hidden sm:block">Staff Required</span>
                <span class="block sm:hidden">Staff</span>
              </div>
              <div class="stat-title">Waitstaff: <%= upcomingEvents[i].waitstaffNeeded %></div>
              <div class="stat-title">Bartender: <%= upcomingEvents[i].bartenderNeeded %></div>
              <div class="stat-title">Chef: <%= upcomingEvents[i].chefNeeded %></div>
            </div>
          </div>
        </a>
      <% } %>
    </div>
    
    
    <!-- <div> -->

      <!-- SNAP TO CENTER -->
      <!-- <div class="border-red-500 border-3 flex justify-between mt-10">
        <h1 class="xs:text-2xl sm:text-3xl font-bold">Upcoming Events</h1>
        <h4 class="font-bold"><a href="/upcoming-events" class="btn btn-secondary btn-sm">See All</a></h4>
      </div> -->

      <!-- DECIDE ON BASE-200 VS Base-300 / W or W/O shadow -->
      <!-- <div class="carousel carousel-center rounded-box shadow-2xl bg-base-200 -mx-4 my-5 sm:py-3">
        <% for(var i=0; i < upcomingEvents.length; i++) {%>
          <div class="card carousel-item xs:w-80 sm:w-96 glass m-5">
            <figure><img src="<%= upcomingEvents[i].image%>" alt="Event Photo"/></figure>
            <div class="card-body">
              <% if(upcomingEvents[i].waitstaffNeeded === 0 && upcomingEvents[i].bartenderNeeded === 0 && upcomingEvents[i].chefNeeded === 0) { %>
                <div class="badge badge-error gap-2">
                  Event Full
                </div>
              <% } %>
              <h2 class="card-title"><%= upcomingEvents[i].eventName %></h2>
              <h3><%= upcomingEvents[i].date %></h3>
              <div class="flex justify-between">
                <h3><%= upcomingEvents[i].staffArrival%> - <%= upcomingEvents[i].estimatedEndTime%> </h3>
                <div class="card-actions justify-end mt-2">
                  <a href="/events/<%= upcomingEvents[i]._id%>" class="btn xs:btn-sm sm:btn xs:btn-primary sm:btn-primary xs:ml-8">Learn More</a>
                </div>
              </div>

            </div>
          </div>


        <% } %>
      </div>

      <br> -->

      <!-- SNAP TO CENTER -->
      <!-- <div class="border-red-500 border-3 flex justify-between">
        <h1 class="xs:text-2xl sm:text-3xl font-bold">Previous Events</h1>
        <h4 class="font-bold"><a href="/previous-events" class="btn btn-secondary btn-sm">See All</a></h4>
      </div>

      <div class="carousel carousel-center rounded-box bg-base-300 shadow-2xl -mx-4 my-5 sm:py-3">
        <% for(var i=0; i < previousEvents.length; i++) {%>
          <div class="card carousel-item xs:w-80 sm:w-96 glass m-5">
            <figure><img src="<%= previousEvents[i].image%>" alt="Event Photo"/></figure>
            <div class="card-body">
              <% if(previousEvents[i].waitstaffNeeded === 0 && previousEvents[i].bartenderNeeded === 0 && previousEvents[i].chefNeeded === 0) { %>
                <div class="badge badge-error gap-2">
                  Event Full
                </div>
              <% } %>
              <h2 class="card-title"><%= previousEvents[i].eventName %></h2>
              <h3><%= previousEvents[i].date %></h3>
              <h3><%= previousEvents[i].staffArrival %> - <%= previousEvents[i].estimatedEndTime %> </h3>
              <div class="card-actions justify-end mt-2">
                <a href="/events/<%= previousEvents[i]._id%>" class="btn xs:btn-sm sm:btn xs:btn-primary sm:btn-primary xs:ml-8">Learn More</a>
              </div>
            </div>
          </div>
        <% } %>
      </div>

    </div>   -->
  </div>


<%- include('partials/footer') -%>