<%- include('partials/header') -%>
<div class="container mt-20 mx-auto">

  <h2 class="text-3xl font-bold mb-4">Hello <%= user.name.split(' ')[0] %>,</h2>
  <span class="text-xl">Here's what your schedule looks like:</span>
  <div class="my-5">
      <div class="">
          <div>
              <p><strong>Name</strong>: <%= user.name %></p>
              <p><strong>Email</strong>: <%= user.email %></p>
          </div>
      </div>

      <div class="stats stats-vertical md:stats-horizontal shadow">
  
        <div class="stat place-items-center">
          <div class="stat-figure text-primary">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" />
            </svg>            
          </div>
          <div class="stat-title">Events Completed</div>
          <div class="stat-value text-primary"><%= previousUserEvents.length %></div>
          <div class="stat-desc">21% more than last month</div>
        </div>
        
        <div class="stat place-items-center">
          <div class="stat-figure text-secondary">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
            </svg>
            
          </div>
          <div class="stat-title">Events Scheduled</div>
          <div class="stat-value text-secondary"><%= upcomingUserEvents.length %></div>
          <div class="stat-desc">21% more than last month</div>
        </div>
      </div>




      <div class="border-red-500 border-3 flex justify-between mt-10">
        <h1 class="xs:text-2xl sm:text-3xl font-bold">Upcoming Events</h1>
      </div>

      <!-- UPCOMING USER EVENTS -->
      <!-- DECIDE ON BASE-200 VS Base-300 / W or W/O shadow -->
      <div class="carousel carousel-center rounded-box shadow-2xl bg-base-200 -mx-4 my-5 sm:py-3">
        <% for(var i=0; i < upcomingUserEvents.length; i++) {%>
          <div class="card carousel-item xs:w-80 sm:w-96 glass m-5">
            <figure><img src="<%= upcomingUserEvents[i].image%>" alt="Event Photo"/></figure>
            <div class="card-body">
              <% if(upcomingUserEvents[i].waitstaffNeeded === 0 && upcomingUserEvents[i].bartenderNeeded === 0 && upcomingUserEvents[i].chefNeeded === 0) { %>
                <div class="badge badge-error gap-2">
                  Event Full
                </div>
              <% } %>
              <h2 class="card-title"><%= upcomingUserEvents[i].eventName %></h2>
              <h3><%= upcomingUserEvents[i].date %></h3>
              <div class="flex justify-between">
                <h3><%= upcomingUserEvents[i].staffArrival%> - <%= upcomingUserEvents[i].estimatedEndTime%> </h3>
                <div class="card-actions justify-end mt-2">
                  <a href="/events/<%= upcomingUserEvents[i]._id%>" class="btn xs:btn-sm sm:btn xs:btn-primary sm:btn-primary xs:ml-8">Learn More</a>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      </div>


      <div class="border-red-500 border-3 flex justify-between mt-10">
        <h1 class="xs:text-2xl sm:text-3xl font-bold">Previous Events</h1>
      </div>
      <!-- PREVIOUS USER EVENTS -->
      <!-- DECIDE ON BASE-200 VS Base-300 / W or W/O shadow -->
      <div class="carousel carousel-center rounded-box shadow-2xl bg-base-200 -mx-4 my-5 sm:py-3">
        <% for(var i=0; i < previousUserEvents.length; i++) {%>
          <div class="card carousel-item xs:w-80 sm:w-96 glass m-5">
            <figure><img src="<%= previousUserEvents[i].image%>" alt="Event Photo"/></figure>
            <div class="card-body">
              <% if(previousUserEvents[i].waitstaffNeeded === 0 && previousUserEvents[i].bartenderNeeded === 0 && previousUserEvents[i].chefNeeded === 0) { %>
                <div class="badge badge-error gap-2">
                  Event Full
                </div>
              <% } %>
              <h2 class="card-title"><%= previousUserEvents[i].eventName %></h2>
              <h3><%= previousUserEvents[i].date %></h3>
              <div class="flex justify-between">
                <h3><%= previousUserEvents[i].staffArrival%> - <%= previousUserEvents[i].estimatedEndTime%> </h3>
                <div class="card-actions justify-end mt-2">
                  <a href="/events/<%= previousUserEvents[i]._id%>" class="btn xs:btn-sm sm:btn xs:btn-primary sm:btn-primary xs:ml-8">Learn More</a>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      </div>

    </div>
  </div>
</div>


<%- include('partials/footer') -%>