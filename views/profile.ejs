<%- include('partials/header') -%>
<div class="container mt-20 mx-auto">

  <h2 class="text-3xl font-bold mb-4">Hello <%= user.name.split(' ')[0] %>,</h2>
  <span class="text-xl">Here's what your schedule looks like:</span>
  <div class="my-5">
      <div class="">
          <div>
              <p><strong>Name</strong>: <%= user.name %></p>
              <p><strong>Email</strong>: <%= user.email %></p>
          </div>
      </div>

      <div class="border-red-500 border-3 flex justify-between mt-10">
        <h1 class="xs:text-2xl sm:text-3xl font-bold">Upcoming Events</h1>
      </div>

      <!-- UPCOMING USER EVENTS -->
      <!-- DECIDE ON BASE-200 VS Base-300 / W or W/O shadow -->
      <div class="carousel carousel-center rounded-box shadow-2xl bg-base-200 -mx-4 my-5 sm:py-3">
        <% for(var i=0; i < upcomingUserEvents.length; i++) {%>
          <div class="card carousel-item xs:w-80 sm:w-96 glass m-5">
            <figure><img src="<%= upcomingUserEvents[i].image%>" alt="Event Photo"/></figure>
            <div class="card-body">
              <% if(upcomingUserEvents[i].waitstaffNeeded === 0 && upcomingUserEvents[i].bartenderNeeded === 0 && upcomingUserEvents[i].chefNeeded === 0) { %>
                <div class="badge badge-error gap-2">
                  Event Full
                </div>
              <% } %>
              <h2 class="card-title"><%= upcomingUserEvents[i].eventName %></h2>
              <h3><%= upcomingUserEvents[i].date %></h3>
              <div class="flex justify-between">
                <h3><%= upcomingUserEvents[i].staffArrival%> - <%= upcomingUserEvents[i].estimatedEndTime%> </h3>
                <div class="card-actions justify-end mt-2">
                  <a href="/events/<%= upcomingUserEvents[i]._id%>" class="btn xs:btn-sm sm:btn xs:btn-primary sm:btn-primary xs:ml-8">Learn More</a>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      </div>


      <div class="border-red-500 border-3 flex justify-between mt-10">
        <h1 class="xs:text-2xl sm:text-3xl font-bold">Previous Events</h1>
      </div>
      <!-- PREVIOUS USER EVENTS -->
      <!-- DECIDE ON BASE-200 VS Base-300 / W or W/O shadow -->
      <div class="carousel carousel-center rounded-box shadow-2xl bg-base-200 -mx-4 my-5 sm:py-3">
        <% for(var i=0; i < previousUserEvents.length; i++) {%>
          <div class="card carousel-item xs:w-80 sm:w-96 glass m-5">
            <figure><img src="<%= previousUserEvents[i].image%>" alt="Event Photo"/></figure>
            <div class="card-body">
              <% if(previousUserEvents[i].waitstaffNeeded === 0 && previousUserEvents[i].bartenderNeeded === 0 && previousUserEvents[i].chefNeeded === 0) { %>
                <div class="badge badge-error gap-2">
                  Event Full
                </div>
              <% } %>
              <h2 class="card-title"><%= previousUserEvents[i].eventName %></h2>
              <h3><%= previousUserEvents[i].date %></h3>
              <div class="flex justify-between">
                <h3><%= previousUserEvents[i].staffArrival%> - <%= previousUserEvents[i].estimatedEndTime%> </h3>
                <div class="card-actions justify-end mt-2">
                  <a href="/events/<%= previousUserEvents[i]._id%>" class="btn xs:btn-sm sm:btn xs:btn-primary sm:btn-primary xs:ml-8">Learn More</a>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      </div>

    </div>
  </div>
</div>


<%- include('partials/footer') -%>